<!DOCTYPE html>
<html>

<head>
    <link id="LinkCss" rel="stylesheet">
    <meta content="ja" http-equiv="Content-Language">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width" name="viewport">
    <meta name="robots" content="noindex">
    <title>設定 | ゲームリソース</title>
    <link href="https://static2.sharepointonline.com/files/fabric/office-ui-fabric-core/11.0.0/css/fabric.min.css"
        rel="stylesheet" />
    <link rel="shortcut icon" href="../favicon.png">
    <style>
        .CloseButton {
            background-image: url(../Image/BackEnabledIcon.svg);
        }
    </style>
</head>

<body class="ms-Fabric" dir="ltr">
    <nav></nav>
    <div class="ToolPanel">
        <button class="Button CloseButton" onclick="Close()">
        </button>
    </div>
    <header>
        <h1>
            設定
        </h1>
    </header>
    <main>
        <details>
            <summary>
                一般
            </summary>
            <div>
                <p>
                    <input type="checkbox" id="KeepPage" onclick="KeepPageClick()">
                    <label for="KeepPage">キープページ</label>
                </p>
            </div>
        </details>
        <details>
            <summary>
                ヘルプ
            </summary>
            <div>
                <p>
                    <button onclick="ReportIssue()">
                        問題を報告
                    </button>
                </p>
                <p>
                    <button onclick="ViewWelcome()">
                        ようこそ画面を表示する
                    </button>
                </p>
            </div>
        </details>
        <details>
            <summary>
                データ
            </summary>
            <div>
                <p>
                    <button onclick="Reset()">
                        リセット
                    </button>
                </p>
            </div>

        </details>
        <details>
            <summary>
                試験段階の機能
            </summary>
            <div>
                <p>
                    <input type="checkbox" id="ExperimentalCapabilities" onclick="ExperimentalCapabilitiesClick()">
                    <label for="ExperimentalCapabilities">試験段階の機能を使用する</label>
                </p>
                <p>
                    <input type="checkbox" id="DarkMode" onclick="DarkModeClick()">
                    <label for="DarkMode">ダークモード</label>
                </p>
            </div>
        </details>
    </main>
    <footer>
    </footer>
</body>
<script>
    if (localStorage.getItem("DarkMode") == "1") {
        document.getElementById("LinkCss").href = "../StyleDark.css"
    } else {
        document.getElementById("LinkCss").href = "../Style.css"
    }

    var keepPageCheckbox = document.getElementById("KeepPage")
    var keepPageChecked = keepPageCheckbox.checked
    if (localStorage.getItem("KeepPage") == "1") {
        keepPageCheckbox.checked = true
    } else {
        keepPageCheckbox.checked = false
    }
    var DarkModeCheckbox = document.getElementById("DarkMode")
    var DarkModeChecked = DarkModeCheckbox.checked
    if (localStorage.getItem("DarkMode") == "1") {
        DarkModeCheckbox.checked = true
    } else {
        DarkModeCheckbox.checked = false
    }
    var ExperimentalCapabilitiesCheckbox = document.getElementById("ExperimentalCapabilities")
    var ExperimentalCapabilitiesChecked = ExperimentalCapabilitiesCheckbox.checked
    if (localStorage.getItem("ExperimentalCapabilities") == "1") {
        ExperimentalCapabilitiesCheckbox.checked = true
    } else {
        ExperimentalCapabilitiesCheckbox.checked = false
    }

    function Close() {
        window.location.href = "../"
    }

    function ReportIssue() {
        location.href = "ReportIssue/"
    }
    function ViewWelcome() {
        localStorage.setItem("Welcome.NowPage", "1")
        localStorage.removeItem("Welcome")
        location.href = "../"
    }
    function KeepPageClick() {
        var keepPageCheckbox = document.getElementById("KeepPage")
        var keepPageChecked = keepPageCheckbox.checked
        if (keepPageChecked) {
            localStorage.setItem("KeepPage", "1")
            localStorage.setItem("KeepPage.Url", "Content/Game/")
        } else {
            localStorage.setItem("KeepPage", "0")
            localStorage.removeItem("KeepPage.Url")
        }
    }
    function Reset() {
        var result = confirm("リセット")
        if (result == true) {
            localStorage.clear()
            alert("リセットされました。")
        }
    }
    function DarkModeClick() {
        var DarkModeChecked = document.getElementById("DarkMode").checked
        if (DarkModeChecked) {
            localStorage.setItem("DarkMode", "1")
        } else {
            localStorage.setItem("DarkMode", "0")
        }
        if (localStorage.getItem("DarkMode") == "1") {
            document.getElementById("LinkCss").href = "../StyleDark.css"
        } else {
            document.getElementById("LinkCss").href = "../Style.css"
        }
    }
    function ExperimentalCapabilitiesClick() {
        var ExperimentalCapabilitiesChecked = document.getElementById("ExperimentalCapabilities").checked
        if (ExperimentalCapabilitiesChecked) {
            localStorage.setItem("ExperimentalCapabilities", "1")
        } else {
            localStorage.setItem("ExperimentalCapabilities", "0")
        }
    }
</script>

</html>