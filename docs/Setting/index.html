<!DOCTYPE html>
<html>

<head>
    <meta content="ja" http-equiv="Content-Language">
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
    <meta content="width=device-width" name="viewport">
    <meta name="robots" content="noindex">
    <title>設定 | ゲームリソース</title>
    <link href="https://static2.sharepointonline.com/files/fabric/office-ui-fabric-core/11.0.0/css/fabric.min.css"
        rel="stylesheet" />
    <link rel="shortcut icon" href="../favicon.png">
    <style>
        button {
            border: 0px;
            cursor: pointer;
            height: 40px;
            color: black;
            background-color: #d6d7d7;
        }

        .Button {
            border: 0px;
            height: 44px;
            width: 44px;
            cursor: pointer;
            background-size: 44px;
            background-color: white;
        }

        .CloseButton {
            background-image: url(../Image/BackEnabledIcon.svg);
        }
    </style>
</head>

<body class="ms-Fabric" dir="ltr">
    <nav></nav>
    <div class="ToolPanel">
        <button class="Button CloseButton" onclick="Close()">
        </button>
    </div>
    <header>
        <h1>
            設定
        </h1>
    </header>
    <main>
        <details>
            <summary>
                一般
            </summary>
            <div>

                <p>
                    <input type="checkbox" id="KeepPage" onclick="KeepPageClick()">
                    <label for="KeepPage">キープページ</label>
                </p>
            </div>
        </details>
        <details>
            <summary>
                ヘルプ
            </summary>
            <div>
                <p>
                    <button onclick="ReportIssue()">
                        問題を報告
                    </button>
                </p>
                <p>
                    <button onclick="ViewWelcome()">
                        ようこそ画面を表示する
                    </button>
                </p>
            </div>
        </details>
        <details>
            <summary>
                データ
            </summary>
            <div>
                <p>
                    <button onclick="Reset()">
                        リセット
                    </button>
                </p>
            </div>

        </details>

    </main>
    <footer>
    </footer>
</body>
<script>
    var keepPageCheckbox = document.getElementById("KeepPage")
    var keepPageChecked = keepPageCheckbox.checked
    if (localStorage.getItem("KeepPage") == "1") {
        keepPageCheckbox.checked = true
    } else {
        keepPageCheckbox.checked = false
    }

    function Close() {
        window.location.href = "../"
    }

    function ReportIssue() {
        location.href = "ReportIssue/"
    }
    function ViewWelcome() {
        localStorage.removeItem("Welcome")
        location.href = "../"
    }
    function KeepPageClick() {
        var keepPageCheckbox = document.getElementById("KeepPage")
        var keepPageChecked = keepPageCheckbox.checked
        if (keepPageChecked) {
            localStorage.setItem("KeepPage", "1")
            localStorage.setItem("KeepPage.Url", "Content/Game/")
        } else {
            localStorage.setItem("KeepPage", "0")
            localStorage.removeItem("KeepPage.Url")
        }
    }
    function Reset() {
        var result = confirm("リセット")
        if (result == true) {
            localStorage.clear()
            alert("リセットされました。")
        }
    }
</script>

</html>